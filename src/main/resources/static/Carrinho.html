<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrinho de Aulas</title>
    <link rel="stylesheet" href="Carrinho.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
</head>
<body>
    <div class="container-box">
        <div class="Back">
            <a href="PaginaPrincipal.html">
            <i class="bi bi-arrow-90deg-left"></i>
        </a>
        <h2>Seu Carrinho</h2>
        <div id="carrinho"></div>
        <button onclick="limparCarrinho()">Esvaziar Carrinho</button>
        <button onclick="concluirCompra()">Concluir Compra</button>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
            let carrinhoContainer = document.getElementById("carrinho");

            if (carrinho.length === 0) {
                carrinhoContainer.innerHTML = "<p>O carrinho está vazio.</p>";
            } else {
                carrinho.forEach(aula => {
                    let item = document.createElement("p");
                    item.textContent = `${aula.nome} - R$${aula.preco}`;
                    carrinhoContainer.appendChild(item);
                });
            }
        });

        function limparCarrinho() {
            localStorage.removeItem('carrinho');
            location.reload();
        }

        function concluirCompra() {
            if (JSON.parse(localStorage.getItem('carrinho')).length === 0) {
                alert("O carrinho está vazio! Não é possível concluir a compra.");
            } else {
                alert("Compra concluída com sucesso!");
                localStorage.removeItem('carrinho'); // Limpa o carrinho após a compra
                location.reload(); // Atualiza a página
            }
        }
    </script>
</body>
</html>
